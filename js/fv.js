"use strict";function required_input(){$(document).on("keyup",".required--input input",function(){if($(this).closest("div").hasClass("required--email"))return!1;var e=$(this).val();if($(this).attr("data-length"))var s=$(this).attr("data-length")-1;else s=3;e.length>s?$(this).closest("div").removeClass("error error-online").addClass("succes"):$(this).closest("div").removeClass("succes").addClass("error-online")})}function num_inset(){$(document).on("change keyup input click",".num--inset input",function(){this.value.match(/[^0-9^+]/g)&&(this.value=this.value.replace(/[^0-9]/g,""))})}function required_email(){$(document).on("keyup",".required--email input",function(){var e=$(this).val(),s=$(this).closest("div");0<=e.length&&1!==(e.match(/[a-z0-9]\@.+[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}/g)||[]).length?s.removeClass("succes").addClass("error-online"):s.removeClass("error error-online").addClass("succes")})}function emailInputControl(){$(".email-input-control input").keyup(function(){var e=$(this).val(),s=$(this).closest("div");if(0<e.length&&1!==(e.match(/[a-z0-9]\@.+[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}/g)||[]).length&&!$(this).closest("div").hasClass("error-online"))s.addClass("error-online required--email").append('<span class="email-input-error-text">Неверный email!</span>');else{if(0<e.length&&1!==(e.match(/[a-z0-9]\@.+[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}/g)||[]).length&&$(this).closest("div").hasClass("error-online"))return;0===e.length?s.removeClass("error-online error required--email succes"):s.removeClass("error-online error required--email").addClass("succes"),s.find(".email-input-error-text").remove()}})}function selectChange(){$(document).on("change",".required--select select",function(){var e=$(this).val(),s=$(this).closest(".required--select");if("Not selected"===e)return s.removeClass("succes").addClass("error"),!1;s.removeClass("error").addClass("succes")})}function fileChange(){$(document).on("change",'.required--file input[type="file"]',function(){var e=$(this).val(),s=$(this).closest(".required--file");""===e?s.removeClass("succes").addClass("error"):s.removeClass("error").addClass("succes")})}function fileChangeMultiple(){$(document).on("change",'.required--file--multiple input[type="file"]',function(){var e=$(this).closest(".required--file--multiple"),s=e.find(".input-file-list p").length;e.attr("data-max")<s||0==s?e.removeClass("succes").addClass("error"):e.removeClass("error").addClass("succes")})}$(document).ready(function(){fileListcontroll(),keyup_form(),click_submit(),$(document).on("click",".input-file-list span",function(){delete object[$(this).closest("p").attr("id")],$(this).closest("p").remove(),fileQuantity(object)})});var $input,i,$inputFile=$('.required--file--multiple input[type="file"]'),$fileList=$(".input-file-list"),object={},j=0;function fileListcontroll(){$inputFile.styler({fileBrowse:"",filePlaceholder:"",fileNumber:""}),$inputFile.on("change",function(e){for($input=e.target,i=0;i<$input.files.length;i++,j++)$('<p id="'+j+'">'+$input.files[i].name+"<span></span></p>").appendTo($fileList),object[j]=$input.files[i];fileQuantity(object)})}function fileQuantity(e){$(".input-file-list p").length;Object.keys(e).length>$(".required--file--multiple").attr("data-max")||0==Object.keys(e).length?$(".required--file--multiple").removeClass("succes").addClass("error"):$(".required--file--multiple").removeClass("error").addClass("succes")}function click_submit(){$("body").on("click",".required--sbmt",function(e){var s=$(this).closest("form"),i=0,r=s.find(".required--input input");r.length&&r.each(function(){var e=$(this).val(),s=$(this);""==e?(s.closest("div").removeClass("succes").addClass("error"),i++):""==!e&&s.closest("div").hasClass("error")&&!s.closest("div").hasClass("error-online")&&s.closest("div").removeClass("error").addClass("succes")});var t=s.find(".required--email input");t.length&&t.each(function(){var e=$(this).val(),s=$(this);0<=e.length&&1!==(e.match(/.+?\@.+[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}/g)||[]).length?(s.closest("div").removeClass("succes").addClass("error"),i++):""==e?(s.closest("div").removeClass("succes").addClass("error"),i++):""==!e&&s.closest("div").hasClass("error")&&!s.closest("div").hasClass("error-online")&&s.closest("div").removeClass("error").addClass("succes")});var l=s.find(".required--select");l.length&&l.each(function(){var e=$(this).find("select :selected");"Not selected"===e.val()?(e.closest(".required--select").removeClass("succes").addClass("error"),i++):e.closest(".required--select").removeClass("error").addClass("succes")});var a=s.find(".required--file");a.length&&a.each(function(){var e=$(this).find("input");""==e.val()?(e.closest(".required--file").removeClass("succes").addClass("error"),i++):e.closest(".required--file").removeClass("error").addClass("succes")});var n=s.find(".required--file--multiple"),o=n.attr("data-max");if(n.length&&n.each(function(){var e=$(this).find(".input-file-list p");""==e.length||e.length>o?(n.removeClass("succes").addClass("error"),i++):n.removeClass("error").addClass("succes")}),0<i)return $(this).closest("form").length,!1})}function keyup_form(){num_inset(),required_email(),required_input(),selectChange(),fileChange(),emailInputControl()}